{"version":3,"sources":["spinnerController.js","postController.js","utility.js","userController.js","index.js"],"names":["removeSpinner","spinner","document","querySelector","classList","remove","parentNode","removeChild","loadSpinner","add","insertAdjacentHTML","removePost","child","post","lastElementChild","renderPost","data","name","title","body","addEventListener","viewPostHandler","event","id","target","dataset","userId","userName","fetch","then","response","json","catch","err","alert","registerEventListerner","Array","from","querySelectorAll","forEach","btn","renderUsers","header","html","map","user","email","unshift","join","fetchUserData","ok","error"],"mappings":";AAMO,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,YAAA,QAAA,mBAAA,EANA,IAAMA,EAAgB,WACrBC,IAAAA,EAAUC,SAASC,cAAc,SACvCD,SAASC,cAAc,YAAYC,UAAUC,OAAO,eACpDJ,EAAQK,WAAWC,YAAYN,IAG1B,QAAA,cAAA,EAAA,IAAMO,EAAc,WACzBN,SAASC,cAAc,YAAYC,UAAUK,IAAI,eAMjDP,SAASC,cAAc,YAAYO,mBAAmB,aALtD,qFAFK,QAAA,YAAA;;AC2BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,qBAAA,EAjCP,IAAA,EAAA,QAAA,0BAEMC,EAAa,WAGVC,IAFDC,IAAAA,EAAOX,SAASC,cAAc,SAChCS,EAAQC,EAAKC,iBACVF,GACLC,EAAKN,YAAYK,GACjBA,EAAQC,EAAKC,kBAIXC,EAAa,SAACC,EAAMC,GAClBJ,IAAAA,EAIYG,mIAAAA,OAAAA,EAAKE,MAGUF,sGAAAA,OAAAA,EAAKG,KAGXF,+FAAAA,OAAAA,EAV3B,iHAgBAf,SAASC,cAAc,SAASO,mBAAmB,aAAcG,GACjEX,SAASC,cAAc,aAAaiB,iBAAiB,QAAST,GAC9DT,SAASC,cAAc,eAAeiB,iBAAiB,QAAST,IAGrDU,EAAkB,SAACC,IAC9B,EAAA,EAAA,eACMC,IAAAA,EAAKD,EAAME,OAAOC,QAAQC,OAC1BT,EAAOK,EAAME,OAAOC,QAAQE,SAClCC,MAAoDL,8CAAAA,OAAAA,IACjDM,KAAK,SAACC,GAAaA,OAAAA,EAASC,SAC5BF,KAAK,SAACb,IACL,EAAA,EAAA,iBACAD,EAAWC,EAAMC,KAElBe,MAAM,SAACC,IACN,EAAA,EAAA,iBACAC,MAAM,qCAZL,QAAA,gBAAA;;AC/BA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,4BAAA,EAFP,IAAA,EAAA,QAAA,uBAEaC,EAAyB,WACpCC,MAAMC,KAAKnC,SAASoC,iBAAiB,cAAcC,QAAQ,SAACC,GAC1DA,OAAAA,EAAIpB,iBAAiB,QAASC,EAA9B,oBAFG,QAAA,uBAAA;;ACsBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,mBAAA,EAxBP,IAAA,EAAA,QAAA,0BACA,EAAA,QAAA,gBAEMoB,EAAc,SAACzB,GACb0B,IACAC,EAAO3B,EAAK4B,IAAI,SAACC,GAKCA,MAAAA,sHAAAA,OAAAA,EAAK5B,KACL4B,mCAAAA,OAAAA,EAAKC,MAEyBD,yFAAAA,OAAAA,EAAKtB,GAAqBsB,oBAAAA,OAAAA,EAAKC,MAPnF,sEAYFH,EAAKI,QAdL,sBAeAJ,EAAKK,KAAK,IACV9C,SAASC,cAAc,UAAUO,mBAAmB,aAAciC,IAIvDM,EAAgB,YAC3B,EAAA,EAAA,eACArB,MAAM,8CACHC,KAAK,SAACC,GAIEA,OAHFA,EAASoB,IACZhB,MAAM,kCAEDJ,EAASC,SAEjBF,KAAK,SAACb,IACL,EAAA,EAAA,iBACAyB,EAAYzB,IACZ,EAAA,EAAA,4BAEDgB,MAAM,SAACmB,IACN,EAAA,EAAA,iBACAjB,MAAM,qCAhBL,QAAA,cAAA;;ACtBP,aAFA,IAAA,EAAA,QAAA,qBAEA,EAAA,EAAA","file":"bundle.js","sourceRoot":"","sourcesContent":["export const removeSpinner = () => {\r\n  const spinner = document.querySelector(\".ring\");\r\n  document.querySelector(\".spinner\").classList.remove(\"backdrop-bg\");\r\n  spinner.parentNode.removeChild(spinner);\r\n  return;\r\n};\r\nexport const loadSpinner = () => {\r\n  document.querySelector(\".spinner\").classList.add(\"backdrop-bg\");\r\n  const spinner = `\r\n      <div class=\"ring\">\r\n        Loading\r\n        <span></span>\r\n      </div>`;\r\n  document.querySelector(\".spinner\").insertAdjacentHTML(\"afterbegin\", spinner);\r\n};\r\n","import { removeSpinner, loadSpinner } from \"./spinnerController.js\";\r\n\r\nconst removePost = () => {\r\n  const post = document.querySelector(\"#post\");\r\n  let child = post.lastElementChild;\r\n  while (child) {\r\n    post.removeChild(child);\r\n    child = post.lastElementChild;\r\n  }\r\n};\r\n\r\nconst renderPost = (data, name) => {\r\n  const post = `\r\n          <div class=\"backdrop\"></div>\r\n          <div class=\"modal\">\r\n            <header class=\"header\">\r\n              <h2>${data.title}</h2>\r\n            </header>\r\n            <div class=\"content\">\r\n              <p class=\"message\">${data.body}</p>\r\n            </div>\r\n            <footer class=\"actions\">\r\n              <p>Posted by ${name}</p>\r\n              <button class=\"action-btn\">Okay</button>\r\n            </footer>\r\n          </div>\r\n      `;\r\n\r\n  document.querySelector(\"#post\").insertAdjacentHTML(\"afterbegin\", post);\r\n  document.querySelector(\".backdrop\").addEventListener(\"click\", removePost);\r\n  document.querySelector(\".action-btn\").addEventListener(\"click\", removePost);\r\n};\r\n\r\nexport const viewPostHandler = (event) => {\r\n  loadSpinner();\r\n  const id = event.target.dataset.userId;\r\n  const name = event.target.dataset.userName;\r\n  fetch(`https://jsonplaceholder.typicode.com/posts/${id}`)\r\n    .then((response) => response.json())\r\n    .then((data) => {\r\n      removeSpinner();\r\n      renderPost(data, name);\r\n    })\r\n    .catch((err) => {\r\n      removeSpinner();\r\n      alert(\"Error, Please try again later.\");\r\n    });\r\n};\r\n","import { viewPostHandler } from \"./postController.js\";\r\n\r\nexport const registerEventListerner = () => {\r\n  Array.from(document.querySelectorAll(\".post-btn\")).forEach((btn) =>\r\n    btn.addEventListener(\"click\", viewPostHandler)\r\n  );\r\n};\r\n\r\n\r\n","import { removeSpinner, loadSpinner } from \"./spinnerController.js\";\r\nimport { registerEventListerner } from \"./utility.js\";\r\n\r\nconst renderUsers = (data) => {\r\n  const header = `<h2>All Users</h2>`;\r\n  const html = data.map((user) => {\r\n    return `\r\n        <li>\r\n            <div class=\"user\">\r\n                <div class=\"users__item\">\r\n                    <h3>${user.name}</h3>\r\n                    <h4>${user.email}</h3>\r\n                </div>\r\n                <button class='post-btn' data-user-id=${user.id} data-user-name=${user.email}>view post</button>\r\n            </div>\r\n        </li>\r\n        `;\r\n  });\r\n  html.unshift(header);\r\n  html.join(\"\");\r\n  document.querySelector(\".users\").insertAdjacentHTML(\"afterbegin\", html);\r\n  return;\r\n};\r\n\r\nexport const fetchUserData = () => {\r\n  loadSpinner();\r\n  fetch(\"https://jsonplaceholder.typicode.com/users\")\r\n    .then((response) => {\r\n      if (!response.ok) {\r\n        alert(\"Error, Please try again later.\");\r\n      }\r\n      return response.json();\r\n    })\r\n    .then((data) => {\r\n      removeSpinner();\r\n      renderUsers(data);\r\n      registerEventListerner();\r\n    })\r\n    .catch((error) => {\r\n      removeSpinner();\r\n      alert(\"Error, Please try again later.\");\r\n    });\r\n};\r\n","import { fetchUserData } from \"./userController\";\r\n\r\nfetchUserData();\r\n"]}